<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 MLE | Learn R from STATA</title>
  <meta name="description" content="10 MLE | Learn R from STATA" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="10 MLE | Learn R from STATA" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://newton-c.github.io/Learn_R_from_STATA/" />
  
  
  <meta name="github-repo" content="newton-c/R_for_STATA_Users" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 MLE | Learn R from STATA" />
  
  
  

<meta name="author" content="Chris Newton" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-regression.html"/>
<link rel="next" href="bayesian-models.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- gtag.js, from Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguements);}
        gtag('js', new Date());

        gtag('config', 'UA-115082821-1');
    </script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Learn R from STATA</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#who-is-this-book-for"><i class="fa fa-check"></i><b>2.1</b> Who is this book for?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#who-isnt-this-book-for"><i class="fa fa-check"></i><b>2.2</b> Who isn’t this book for?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#setting-up-r"><i class="fa fa-check"></i><b>2.3</b> Setting up R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="why-switch-to-r.html"><a href="why-switch-to-r.html"><i class="fa fa-check"></i><b>3</b> Why switch to R</a><ul>
<li class="chapter" data-level="3.1" data-path="why-switch-to-r.html"><a href="why-switch-to-r.html#r-advantages"><i class="fa fa-check"></i><b>3.1</b> R advantages</a></li>
<li class="chapter" data-level="3.2" data-path="why-switch-to-r.html"><a href="why-switch-to-r.html#in-conclusion"><i class="fa fa-check"></i><b>3.2</b> In conclusion…</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html"><i class="fa fa-check"></i><b>4</b> Going Through a Project from Start to Finish</a><ul>
<li class="chapter" data-level="4.1" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#loading-packages"><i class="fa fa-check"></i><b>4.1</b> Loading packages</a></li>
<li class="chapter" data-level="4.2" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#loading-and-prepping-the-data"><i class="fa fa-check"></i><b>4.2</b> Loading and prepping the data</a></li>
<li class="chapter" data-level="4.3" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#visualization"><i class="fa fa-check"></i><b>4.3</b> Visualization</a></li>
<li class="chapter" data-level="4.4" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#modeling"><i class="fa fa-check"></i><b>4.4</b> Modeling</a></li>
<li class="chapter" data-level="4.5" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#reporting"><i class="fa fa-check"></i><b>4.5</b> Reporting</a></li>
<li class="chapter" data-level="4.6" data-path="going-through-a-project-from-start-to-finish.html"><a href="going-through-a-project-from-start-to-finish.html#exercises"><i class="fa fa-check"></i><b>4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html"><i class="fa fa-check"></i><b>5</b> Dealing with .dta</a><ul>
<li class="chapter" data-level="5.1" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#using-haven-to-import-stata-files"><i class="fa fa-check"></i><b>5.1</b> Using haven to import STATA files</a></li>
<li class="chapter" data-level="5.2" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#dealing-with-errors"><i class="fa fa-check"></i><b>5.2</b> Dealing with errors</a></li>
<li class="chapter" data-level="5.3" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#but-theres-still-problems"><i class="fa fa-check"></i><b>5.3</b> But there’s still problems</a></li>
<li class="chapter" data-level="5.4" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#other-data-formats"><i class="fa fa-check"></i><b>5.4</b> Other data formats</a><ul>
<li class="chapter" data-level="5.4.1" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#rdata"><i class="fa fa-check"></i><b>5.4.1</b> .Rdata</a></li>
<li class="chapter" data-level="5.4.2" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#csv-and-other-delimited-files"><i class="fa fa-check"></i><b>5.4.2</b> .csv and other delimited files</a></li>
<li class="chapter" data-level="5.4.3" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#excel-files"><i class="fa fa-check"></i><b>5.4.3</b> Excel files</a></li>
<li class="chapter" data-level="5.4.4" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#json"><i class="fa fa-check"></i><b>5.4.4</b> .json</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dealing-with-dta.html"><a href="dealing-with-dta.html#using-multiple-dataframes"><i class="fa fa-check"></i><b>5.5</b> Using multiple dataframes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html"><i class="fa fa-check"></i><b>6</b> Merging and Wrangling</a><ul>
<li class="chapter" data-level="6.1" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#base-r"><i class="fa fa-check"></i><b>6.1</b> base R</a></li>
<li class="chapter" data-level="6.2" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#dplyr"><i class="fa fa-check"></i><b>6.2</b> dplyr</a></li>
<li class="chapter" data-level="6.3" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#merge.stats"><i class="fa fa-check"></i><b>6.3</b> merge.stats</a></li>
<li class="chapter" data-level="6.4" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#into-the-tidyverse"><i class="fa fa-check"></i><b>6.4</b> Into the tidyverse</a><ul>
<li class="chapter" data-level="6.4.1" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#filter"><i class="fa fa-check"></i><b>6.4.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#mutate"><i class="fa fa-check"></i><b>6.4.2</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#group_by"><i class="fa fa-check"></i><b>6.4.3</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="6.4.4" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#select"><i class="fa fa-check"></i><b>6.4.4</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.4.5" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#section"><i class="fa fa-check"></i><b>6.4.5</b> <code>%&gt;%</code></a></li>
<li class="chapter" data-level="6.4.6" data-path="merging-and-wrangling.html"><a href="merging-and-wrangling.html#stringing-it-together"><i class="fa fa-check"></i><b>6.4.6</b> Stringing it Together</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="one-stop-modeling-zelig.html"><a href="one-stop-modeling-zelig.html"><i class="fa fa-check"></i><b>7</b> One Stop Modeling: Zelig</a><ul>
<li class="chapter" data-level="7.1" data-path="one-stop-modeling-zelig.html"><a href="one-stop-modeling-zelig.html#simulation-and-counterfactuals"><i class="fa fa-check"></i><b>7.1</b> Simulation and Counterfactuals</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html"><i class="fa fa-check"></i><b>8</b> Visualizing and Describing your Data</a><ul>
<li class="chapter" data-level="8.1" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html#ggplot2"><i class="fa fa-check"></i><b>8.1</b> ggplot2</a><ul>
<li class="chapter" data-level="8.1.1" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html#destriptive-visualitation"><i class="fa fa-check"></i><b>8.1.1</b> Destriptive visualitation</a></li>
<li class="chapter" data-level="8.1.2" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html#communicating-results"><i class="fa fa-check"></i><b>8.1.2</b> Communicating Results</a></li>
<li class="chapter" data-level="8.1.3" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html#other-vizualizations"><i class="fa fa-check"></i><b>8.1.3</b> Other Vizualizations</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="visualizing-and-describing-your-data.html"><a href="visualizing-and-describing-your-data.html#base-r-1"><i class="fa fa-check"></i><b>8.2</b> base-R</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>9</b> Linear Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="linear-regression.html"><a href="linear-regression.html#which-way-should-you-write-your-model"><i class="fa fa-check"></i><b>9.1</b> Which way should you write your model?</a></li>
<li class="chapter" data-level="9.2" data-path="linear-regression.html"><a href="linear-regression.html#viewing-the-results"><i class="fa fa-check"></i><b>9.2</b> Viewing the results</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mle.html"><a href="mle.html"><i class="fa fa-check"></i><b>10</b> MLE</a><ul>
<li class="chapter" data-level="10.1" data-path="mle.html"><a href="mle.html#binary-dependent-variables"><i class="fa fa-check"></i><b>10.1</b> Binary Dependent Variables</a></li>
<li class="chapter" data-level="10.2" data-path="mle.html"><a href="mle.html#counts"><i class="fa fa-check"></i><b>10.2</b> Counts</a></li>
<li class="chapter" data-level="10.3" data-path="mle.html"><a href="mle.html#rare-events-and-zero-inflation"><i class="fa fa-check"></i><b>10.3</b> Rare-events and Zero-inflation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="bayesian-models.html"><a href="bayesian-models.html"><i class="fa fa-check"></i><b>11</b> Bayesian Models</a><ul>
<li class="chapter" data-level="11.1" data-path="bayesian-models.html"><a href="bayesian-models.html#using-stan-in-r"><i class="fa fa-check"></i><b>11.1</b> Using STAN in R</a></li>
<li class="chapter" data-level="11.2" data-path="bayesian-models.html"><a href="bayesian-models.html#mcelreath-and-rethinking"><i class="fa fa-check"></i><b>11.2</b> McElreath and Rethinking</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="panel-models.html"><a href="panel-models.html"><i class="fa fa-check"></i><b>12</b> Panel Models</a><ul>
<li class="chapter" data-level="12.1" data-path="panel-models.html"><a href="panel-models.html#fixed-effects"><i class="fa fa-check"></i><b>12.1</b> Fixed-Effects</a><ul>
<li class="chapter" data-level="12.1.1" data-path="panel-models.html"><a href="panel-models.html#adjusting-standard-errors"><i class="fa fa-check"></i><b>12.1.1</b> Adjusting Standard Errors</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="panel-models.html"><a href="panel-models.html#random-effects"><i class="fa fa-check"></i><b>12.2</b> Random-Effects</a><ul>
<li class="chapter" data-level="12.2.1" data-path="panel-models.html"><a href="panel-models.html#pml"><i class="fa fa-check"></i><b>12.2.1</b> PML</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="panel-models.html"><a href="panel-models.html#mixed-models"><i class="fa fa-check"></i><b>12.3</b> Mixed Models</a></li>
<li class="chapter" data-level="12.4" data-path="panel-models.html"><a href="panel-models.html#multilevelhierarchical-models"><i class="fa fa-check"></i><b>12.4</b> Multilevel/Hierarchical Models</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="missing-data-1.html"><a href="missing-data-1.html"><i class="fa fa-check"></i><b>13</b> Missing Data</a><ul>
<li class="chapter" data-level="13.1" data-path="missing-data-1.html"><a href="missing-data-1.html#amelia-ii"><i class="fa fa-check"></i><b>13.1</b> Amelia II</a></li>
<li class="chapter" data-level="13.2" data-path="missing-data-1.html"><a href="missing-data-1.html#k-nn-imputation"><i class="fa fa-check"></i><b>13.2</b> k-NN Imputation</a></li>
<li class="chapter" data-level="13.3" data-path="missing-data-1.html"><a href="missing-data-1.html#machine-learning-for-missing-data"><i class="fa fa-check"></i><b>13.3</b> Machine Learning for Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="matching.html"><a href="matching.html"><i class="fa fa-check"></i><b>14</b> Matching</a><ul>
<li class="chapter" data-level="14.1" data-path="matching.html"><a href="matching.html#the-marchit-package"><i class="fa fa-check"></i><b>14.1</b> The MarchIt Package</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="gis.html"><a href="gis.html"><i class="fa fa-check"></i><b>15</b> GIS</a></li>
<li class="chapter" data-level="16" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html"><i class="fa fa-check"></i><b>16</b> A Brief Introduction to Coding</a><ul>
<li class="chapter" data-level="16.1" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#why-learn-to-code"><i class="fa fa-check"></i><b>16.1</b> Why Learn to Code?</a></li>
<li class="chapter" data-level="16.2" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#coding-basics"><i class="fa fa-check"></i><b>16.2</b> Coding Basics</a><ul>
<li class="chapter" data-level="16.2.1" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#the-internet-is-your-friend"><i class="fa fa-check"></i><b>16.2.1</b> The Internet is your Friend</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#ifelse"><i class="fa fa-check"></i><b>16.3</b> <code>ifelse()</code></a></li>
<li class="chapter" data-level="16.4" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#writing-a-function"><i class="fa fa-check"></i><b>16.4</b> Writing a Function</a></li>
<li class="chapter" data-level="16.5" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#loops"><i class="fa fa-check"></i><b>16.5</b> Loops</a><ul>
<li class="chapter" data-level="16.5.1" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#loops-in-loops"><i class="fa fa-check"></i><b>16.5.1</b> Loops in Loops</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="a-brief-introduction-to-coding.html"><a href="a-brief-introduction-to-coding.html#parallelization-what-it-is-why-its-awesome-and-how-to-use-it."><i class="fa fa-check"></i><b>16.6</b> Parallelization: What it is, Why it’s Awesome, and How to Use it.</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Learn R from STATA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mle" class="section level1">
<h1><span class="header-section-number">10</span> MLE</h1>
<div id="binary-dependent-variables" class="section level2">
<h2><span class="header-section-number">10.1</span> Binary Dependent Variables</h2>
<p>While STATA has seperate commands for different MLE models (<code>logit</code>, <code>nbreg</code>, etc.), R combines some models into single commands. We can use <code>zelig()</code>, the command we learned earlier, and just change the <code>model =</code> portion. Alternatively, there are commands such as <code>glm()</code>, which do the same thing outside of the Zeligverse. We’ll loog at some examples with the <code>iris</code> dataset.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">library</span>(modelsummary)</a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb38-3" title="3"><span class="kw">library</span>(Zelig)</a>
<a class="sourceLine" id="cb38-4" title="4"></a>
<a class="sourceLine" id="cb38-5" title="5"><span class="kw">theme_set</span>(<span class="kw">theme_bw</span>())</a>
<a class="sourceLine" id="cb38-6" title="6"></a>
<a class="sourceLine" id="cb38-7" title="7"><span class="kw">head</span>(iris)</a>
<a class="sourceLine" id="cb38-8" title="8"><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></a>
<a class="sourceLine" id="cb38-9" title="9"><span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span></a>
<a class="sourceLine" id="cb38-10" title="10"><span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span></a>
<a class="sourceLine" id="cb38-11" title="11"><span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span></a>
<a class="sourceLine" id="cb38-12" title="12"><span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span></a>
<a class="sourceLine" id="cb38-13" title="13"><span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span></a>
<a class="sourceLine" id="cb38-14" title="14"><span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></a>
<a class="sourceLine" id="cb38-15" title="15"><span class="kw">summary</span>(iris)</a>
<a class="sourceLine" id="cb38-16" title="16"><span class="co">#&gt;   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   </span></a>
<a class="sourceLine" id="cb38-17" title="17"><span class="co">#&gt;  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  </span></a>
<a class="sourceLine" id="cb38-18" title="18"><span class="co">#&gt;  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  </span></a>
<a class="sourceLine" id="cb38-19" title="19"><span class="co">#&gt;  Median :5.800   Median :3.000   Median :4.350   Median :1.300  </span></a>
<a class="sourceLine" id="cb38-20" title="20"><span class="co">#&gt;  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  </span></a>
<a class="sourceLine" id="cb38-21" title="21"><span class="co">#&gt;  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  </span></a>
<a class="sourceLine" id="cb38-22" title="22"><span class="co">#&gt;  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  </span></a>
<a class="sourceLine" id="cb38-23" title="23"><span class="co">#&gt;        Species  </span></a>
<a class="sourceLine" id="cb38-24" title="24"><span class="co">#&gt;  setosa    :50  </span></a>
<a class="sourceLine" id="cb38-25" title="25"><span class="co">#&gt;  versicolor:50  </span></a>
<a class="sourceLine" id="cb38-26" title="26"><span class="co">#&gt;  virginica :50  </span></a>
<a class="sourceLine" id="cb38-27" title="27"><span class="co">#&gt;                 </span></a>
<a class="sourceLine" id="cb38-28" title="28"><span class="co">#&gt;                 </span></a>
<a class="sourceLine" id="cb38-29" title="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb38-30" title="30"></a>
<a class="sourceLine" id="cb38-31" title="31"><span class="kw">ggplot</span>(iris) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-32" title="32"><span class="st">    </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Petal.Length, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-33" title="33"><span class="st">    </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="fl">2.5</span>) </a>
<a class="sourceLine" id="cb38-34" title="34"></a>
<a class="sourceLine" id="cb38-35" title="35"><span class="kw">ggplot</span>(iris) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-36" title="36"><span class="st">    </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Petal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-37" title="37"><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">intercept =</span> <span class="fl">-1.9</span>) </a></code></pre></div>
<p><img src="MLE_files/figure-html/unnamed-chunk-1-1.png" width="70%" style="display: block; margin: auto;" /><img src="MLE_files/figure-html/unnamed-chunk-1-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This dataset, originally collected by Ronald Fisher, looks at three different species of iris: setosa, versicolor, and virginica. It provides information on the length and width of flowers’ petal and sepals. Looking at the data, we can see that setosas are rather distinct, and easy to seperate graphically. Veriscolor and virginia are more similar, so we’ll examine them statistically. We can create a new dataframe with the <code>filter()</code> command we learned in <em>Modeling and Wrangling</em>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">iris.binary &lt;-<span class="st"> </span><span class="kw">filter</span>(iris, Species <span class="op">!=</span><span class="st"> &quot;setosa&quot;</span>)</a></code></pre></div>
<p>To predict whether a flower is setosa or virginica, we could use a logit model.</p>
<pre><code>logit Species Sepal.Length Sepal.Width Petal.Length Petal.Width</code></pre>
<p>In R, we estimate a logit by specifying <code>model = "logit"</code> in <code>zelig()</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">iris.logit &lt;-<span class="st"> </span><span class="kw">zelig</span>(Species <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span></a>
<a class="sourceLine" id="cb41-2" title="2"><span class="st">                  </span>Petal.Width, <span class="dt">data =</span> iris.binary, </a>
<a class="sourceLine" id="cb41-3" title="3">                  <span class="dt">model =</span> <span class="st">&quot;logit&quot;</span>, <span class="dt">cite =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p>IF we want to instead estimate a probit model, in STATA, we change the command.</p>
<pre><code>probit Species Sepal.Length Sepal.Width Petal.Length Petal.Width</code></pre>
<p>In R, we change <code>model =</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">iris.probit &lt;-<span class="st"> </span><span class="kw">zelig</span>(Species <span class="op">~</span><span class="st"> </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Sepal.Width <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span></a>
<a class="sourceLine" id="cb43-2" title="2"><span class="st">                  </span>Petal.Width, <span class="dt">data =</span> iris.binary, </a>
<a class="sourceLine" id="cb43-3" title="3">                  <span class="dt">model =</span> <span class="st">&quot;probit&quot;</span>, <span class="dt">cite =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1">models =<span class="st"> </span><span class="kw">list</span>(</a>
<a class="sourceLine" id="cb44-2" title="2">    <span class="st">`</span><span class="dt">Logit</span><span class="st">`</span> =<span class="st"> </span><span class="kw">from_zelig_model</span>(iris.logit),</a>
<a class="sourceLine" id="cb44-3" title="3">    </a>
<a class="sourceLine" id="cb44-4" title="4">    <span class="st">`</span><span class="dt">Probit</span><span class="st">`</span> =<span class="st"> </span><span class="kw">from_zelig_model</span>(iris.probit)</a>
<a class="sourceLine" id="cb44-5" title="5">)</a>
<a class="sourceLine" id="cb44-6" title="6"></a>
<a class="sourceLine" id="cb44-7" title="7"><span class="kw">modelsummary</span>(<span class="dt">models =</span> models, <span class="dt">stars =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Logit
</th>
<th style="text-align:center;">
Probit
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:center;">
-42.638*
</td>
<td style="text-align:center;">
-23.985*
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(25.707)
</td>
<td style="text-align:center;">
(13.843)
</td>
</tr>
<tr>
<td style="text-align:left;">
Sepal.Length
</td>
<td style="text-align:center;">
-2.465
</td>
<td style="text-align:center;">
-1.440
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(2.394)
</td>
<td style="text-align:center;">
(1.272)
</td>
</tr>
<tr>
<td style="text-align:left;">
Sepal.Width
</td>
<td style="text-align:center;">
-6.681
</td>
<td style="text-align:center;">
-3.778
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(4.480)
</td>
<td style="text-align:center;">
(2.556)
</td>
</tr>
<tr>
<td style="text-align:left;">
Petal.Length
</td>
<td style="text-align:center;">
9.429**
</td>
<td style="text-align:center;">
5.316**
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(4.737)
</td>
<td style="text-align:center;">
(2.435)
</td>
</tr>
<tr>
<td style="text-align:left;">
Petal.Width
</td>
<td style="text-align:center;">
18.286*
</td>
<td style="text-align:center;">
10.486*
</td>
</tr>
<tr>
<td style="text-align:left;box-shadow: 0px 1px">
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(9.743)
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(5.614)
</td>
</tr>
<tr>
<td style="text-align:left;">
Num.Obs.
</td>
<td style="text-align:center;">
100
</td>
<td style="text-align:center;">
100
</td>
</tr>
<tr>
<td style="text-align:left;">
AIC
</td>
<td style="text-align:center;">
21.9
</td>
<td style="text-align:center;">
21.8
</td>
</tr>
<tr>
<td style="text-align:left;">
BIC
</td>
<td style="text-align:center;">
34.9
</td>
<td style="text-align:center;">
34.8
</td>
</tr>
<tr>
<td style="text-align:left;">
Log.Lik.
</td>
<td style="text-align:center;">
-5.949
</td>
<td style="text-align:center;">
-5.876
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> * p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01
</td>
</tr>
</tfoot>
</table>
</div>
<div id="counts" class="section level2">
<h2><span class="header-section-number">10.2</span> Counts</h2>
<p>Count models tend to fall into two categories: Poisson and negative binomial. Poisson models assume an even dispersion, with the mean equal to the variance, while negative binomial accout for overdispersed data.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">summary</span>(diamonds)</a>
<a class="sourceLine" id="cb45-2" title="2"><span class="co">#&gt;      carat               cut        color        clarity          depth      </span></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="co">#&gt;  Min.   :0.2000   Fair     : 1610   D: 6775   SI1    :13065   Min.   :43.00  </span></a>
<a class="sourceLine" id="cb45-4" title="4"><span class="co">#&gt;  1st Qu.:0.4000   Good     : 4906   E: 9797   VS2    :12258   1st Qu.:61.00  </span></a>
<a class="sourceLine" id="cb45-5" title="5"><span class="co">#&gt;  Median :0.7000   Very Good:12082   F: 9542   SI2    : 9194   Median :61.80  </span></a>
<a class="sourceLine" id="cb45-6" title="6"><span class="co">#&gt;  Mean   :0.7979   Premium  :13791   G:11292   VS1    : 8171   Mean   :61.75  </span></a>
<a class="sourceLine" id="cb45-7" title="7"><span class="co">#&gt;  3rd Qu.:1.0400   Ideal    :21551   H: 8304   VVS2   : 5066   3rd Qu.:62.50  </span></a>
<a class="sourceLine" id="cb45-8" title="8"><span class="co">#&gt;  Max.   :5.0100                     I: 5422   VVS1   : 3655   Max.   :79.00  </span></a>
<a class="sourceLine" id="cb45-9" title="9"><span class="co">#&gt;                                     J: 2808   (Other): 2531                  </span></a>
<a class="sourceLine" id="cb45-10" title="10"><span class="co">#&gt;      table           price             x                y         </span></a>
<a class="sourceLine" id="cb45-11" title="11"><span class="co">#&gt;  Min.   :43.00   Min.   :  326   Min.   : 0.000   Min.   : 0.000  </span></a>
<a class="sourceLine" id="cb45-12" title="12"><span class="co">#&gt;  1st Qu.:56.00   1st Qu.:  950   1st Qu.: 4.710   1st Qu.: 4.720  </span></a>
<a class="sourceLine" id="cb45-13" title="13"><span class="co">#&gt;  Median :57.00   Median : 2401   Median : 5.700   Median : 5.710  </span></a>
<a class="sourceLine" id="cb45-14" title="14"><span class="co">#&gt;  Mean   :57.46   Mean   : 3933   Mean   : 5.731   Mean   : 5.735  </span></a>
<a class="sourceLine" id="cb45-15" title="15"><span class="co">#&gt;  3rd Qu.:59.00   3rd Qu.: 5324   3rd Qu.: 6.540   3rd Qu.: 6.540  </span></a>
<a class="sourceLine" id="cb45-16" title="16"><span class="co">#&gt;  Max.   :95.00   Max.   :18823   Max.   :10.740   Max.   :58.900  </span></a>
<a class="sourceLine" id="cb45-17" title="17"><span class="co">#&gt;                                                                   </span></a>
<a class="sourceLine" id="cb45-18" title="18"><span class="co">#&gt;        z         </span></a>
<a class="sourceLine" id="cb45-19" title="19"><span class="co">#&gt;  Min.   : 0.000  </span></a>
<a class="sourceLine" id="cb45-20" title="20"><span class="co">#&gt;  1st Qu.: 2.910  </span></a>
<a class="sourceLine" id="cb45-21" title="21"><span class="co">#&gt;  Median : 3.530  </span></a>
<a class="sourceLine" id="cb45-22" title="22"><span class="co">#&gt;  Mean   : 3.539  </span></a>
<a class="sourceLine" id="cb45-23" title="23"><span class="co">#&gt;  3rd Qu.: 4.040  </span></a>
<a class="sourceLine" id="cb45-24" title="24"><span class="co">#&gt;  Max.   :31.800  </span></a>
<a class="sourceLine" id="cb45-25" title="25"><span class="co">#&gt; </span></a></code></pre></div>
</div>
<div id="rare-events-and-zero-inflation" class="section level2">
<h2><span class="header-section-number">10.3</span> Rare-events and Zero-inflation</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bayesian-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"edit": {
"link": "https://github.com/newton-c/Learn_R_from_STATA/edit/main/%s",
"text": "Edit"
},
"sharing": false
},
"css": "r4su.css"
});
});
</script>

</body>

</html>
